{"version":3,"sources":["file:///Users/naushad/SnakesAndLadder1/assets/scripts/TileScript.ts"],"names":["_decorator","Component","Node","TiledMap","Label","tween","Vec3","Prefab","instantiate","SpriteFrame","UITransform","toDegree","Sprite","director","ccclass","property","TileScript","start","tileLayer","tileMap","getLayer","tileCurrPos","getTiledTileAt","node","position","playerOne","setPosition","x","y","playerTwo","k","i","l","addLabel","j","addSnakes","addLadders","getChildByName","active","button1","button2","ch","prefabLabel","tileNow","getComponent","string","addChild","noOfSnakes","Math","floor","random","randomStartX","randomStartY","snakeHead","arrayOfSnakesHead","push","randomEndX","randomEndY","snakeTail","arrayOfSnakesTail","tileNowRandom1","tileNowRandom2","diffX","diffY","lengthOfSnake","sqrt","chil","snake","setContentSize","ang","atan2","to","angle","console","log","noOfLadders","ladderHead","arrayOfLaddersHead","ladderTail","arrayOfLaddersTail","ladder","rollDice","event","customData","btn","randomDice","spriteFrame","arrayOfDices","moveNode","playerNode","chances","checkPlayer","ret","playerOneTileX","playerOneTileY","playerTwoTileX","playerTwoTileY","id","setInterval","nextPos","easing","scheduleOnce","clearInterval","movePlayer","btnNumber","waitTime","child","initialX","diceNum","arrayOfChances","sumOfChances","length","pause","delay"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, TiledMap, Vec2, Label, UITransformComponent, TiledTile, TiledLayer, tween, Vec3, computeRatioByType, easing, Prefab, instantiate, size, SpriteFrame, UITransform, toDegree, math, Sprite, director, random } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = TileScript\r\n * DateTime = Wed Sep 15 2021 11:44:38 GMT+0530 (India Standard Time)\r\n * Author = alokraj0024\r\n * FileBasename = TileScript.ts\r\n * FileBasenameNoExtension = TileScript\r\n * URL = db://assets/scripts/TileScript.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n * Math.floor(Math.random() * (max - min + 1)) + min;\r\n */\r\n \r\n@ccclass('TileScript')\r\nexport class TileScript extends Component {\r\n    \r\n    @property(TiledMap)\r\n    tileMap : TiledMap = null;\r\n\r\n    @property(Node)\r\n    playerOne : Node = null;\r\n\r\n    @property(Node)\r\n    playerTwo : Node = null;\r\n\r\n    @property(Prefab)\r\n    prefabLabel : Prefab = null;\r\n\r\n    @property(Prefab)\r\n    snake : Prefab = null;\r\n\r\n    @property(Prefab)\r\n    ladder : Prefab = null;\r\n\r\n    @property(SpriteFrame)\r\n    arrayOfDices : SpriteFrame[] = [];\r\n\r\n    tileLayer : TiledLayer = null;\r\n    //tile : TiledTile = null;\r\n    tileCurrPos : Vec3 = null;\r\n    playerOneTileX : number = 0;\r\n    playerOneTileY : number = 9;\r\n    playerTwoTileX : number = 0;\r\n    playerTwoTileY : number = 9;\r\n\r\n    arrayOfSnakesHead : number[][] = [];\r\n    arrayOfSnakesTail : number[][] = [];\r\n    arrayOfLaddersHead : number[][] = [];\r\n    arrayOfLaddersTail : number[][] = [];\r\n    arrayOfChances : number[][] = [];\r\n    sumOfChances : number = 0;\r\n    button1 : Node = null;\r\n    button2 : Node = null;\r\n\r\n    start () {\r\n        this.tileLayer = this.tileMap.getLayer('Tile Layer 1');\r\n        this.tileCurrPos = this.tileLayer.getTiledTileAt(0,9,true).node.position;\r\n        this.playerOne.setPosition(new Vec3(this.tileCurrPos.x+8,this.tileCurrPos.y+15,0));\r\n        this.playerTwo.setPosition(new Vec3(this.tileCurrPos.x+25,this.tileCurrPos.y+15,0));\r\n        let k = 1;\r\n        for(let i = 9;i>=0;i--)\r\n        {\r\n            if(i%2 == 0)\r\n            {\r\n                for(let l=9;l>=0;l--)\r\n                {\r\n                    this.addLabel(l,i,k++);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                for(let j=0;j<=9;j++)\r\n                {\r\n                    this.addLabel(j,i,k++);\r\n                }\r\n            }\r\n        }\r\n        this.addSnakes();\r\n        this.addLadders();\r\n        this.node.getChildByName('playerOneWon').active = false;\r\n        this.node.getChildByName('playerTwoWon').active = false;\r\n        this.button1 = this.node.getChildByName('play1');\r\n        this.button2 = this.node.getChildByName('play2');\r\n\r\n    }\r\n    addLabel(j,i,k)\r\n    {\r\n        let ch = instantiate(this.prefabLabel);\r\n        let tileNow = this.tileLayer.getTiledTileAt(j,i,true).node.position;\r\n        ch.getComponent(Label).string = `${k}`;\r\n        this.tileMap.node.addChild(ch);\r\n        ch.setPosition(tileNow.x+10,tileNow.y-8,1);\r\n    }\r\n    addSnakes()\r\n    {\r\n        let noOfSnakes = Math.floor(Math.random() * (5 - 2 + 1)) + 2;\r\n        for(let i=1;i<=noOfSnakes;i++)\r\n        {\r\n            let randomStartX = Math.floor(Math.random() * (9 - 1 + 1)) + 1;\r\n            let randomStartY = Math.floor(Math.random() * (7 - 0 + 1)) + 0;\r\n\r\n            let snakeHead = [randomStartX,randomStartY];\r\n            this.arrayOfSnakesHead.push(snakeHead);\r\n\r\n            let randomEndX = Math.floor(Math.random() * (9 - 0 + 1)) + 0;\r\n            let randomEndY = Math.floor(Math.random() * (9 - (randomStartY+2) + 1)) + (randomStartY+2);\r\n            let  snakeTail = [randomEndX,randomEndY];\r\n            this.arrayOfSnakesTail.push(snakeTail);\r\n\r\n            let tileNowRandom1 = this.tileLayer.getTiledTileAt(randomStartX,randomStartY,true).node.position;\r\n            let tileNowRandom2 = this.tileLayer.getTiledTileAt(randomEndX,randomEndY,true).node.position;\r\n\r\n            let diffX = tileNowRandom1.x - tileNowRandom2.x;\r\n            let diffY = tileNowRandom1.y - tileNowRandom2.y;\r\n            let lengthOfSnake = Math.sqrt((diffX*diffX)+(diffY*diffY));\r\n\r\n            let chil = instantiate(this.snake);\r\n            this.tileMap.node.addChild(chil);\r\n            chil.setPosition(tileNowRandom1.x+16,tileNowRandom1.y+16,1);\r\n            chil.getComponent(UITransform).setContentSize(20,lengthOfSnake);\r\n            let ang = Math.atan2(diffY,diffX);\r\n            tween(chil)\r\n                .to(0.1,{angle : toDegree(ang)-90})\r\n                .start();\r\n        }\r\n        console.log(this.arrayOfSnakesHead);\r\n        console.log(this.arrayOfSnakesTail);\r\n    }\r\n    addLadders()\r\n    {\r\n        let noOfLadders = Math.floor(Math.random() * (3 - 2 + 1)) + 2;\r\n        for(let i=1;i<=noOfLadders;i++)\r\n        {\r\n            let randomStartX = Math.floor(Math.random() * (9 - 1 + 1)) + 1;\r\n            let randomStartY = Math.floor(Math.random() * (7 - 0 + 1)) + 0;\r\n            let ladderHead = [randomStartX,randomStartY];\r\n            this.arrayOfLaddersHead.push(ladderHead);\r\n\r\n            let randomEndX = Math.floor(Math.random() * (9 - 1 + 1)) + 1;\r\n            let randomEndY = Math.floor(Math.random() * (9 - (randomStartY+2) + 1)) + randomStartY+2;\r\n            let ladderTail = [randomEndX,randomEndY];\r\n            this.arrayOfLaddersTail.push(ladderTail);\r\n\r\n            let tileNowRandom1 = this.tileLayer.getTiledTileAt(randomStartX,randomStartY,true).node.position;\r\n            let tileNowRandom2 = this.tileLayer.getTiledTileAt(randomEndX,randomEndY,true).node.position;\r\n            \r\n            let diffX = tileNowRandom1.x - tileNowRandom2.x;\r\n            let diffY = tileNowRandom1.y - tileNowRandom2.y;\r\n            let lengthOfSnake = Math.sqrt((diffX*diffX)+(diffY*diffY));\r\n\r\n            let chil = instantiate(this.ladder);\r\n            this.tileMap.node.addChild(chil);\r\n            chil.setPosition(tileNowRandom1.x+16,tileNowRandom1.y+16,1);\r\n            chil.getComponent(UITransform).setContentSize(20,lengthOfSnake);\r\n            let ang = Math.atan2(diffY,diffX);\r\n            tween(chil)\r\n                .to(0.1,{angle : toDegree(ang)-90})\r\n                .start();\r\n        }\r\n    }\r\n    rollDice(event,customData)\r\n    {\r\n        let btn : Node = null;\r\n        if(customData == '1')\r\n        {\r\n            btn = this.button1;\r\n        }\r\n        else\r\n        {\r\n            btn = this.button2;\r\n        }\r\n        let randomDice = Math.floor(Math.random() * (6 - 1 + 1)) + 1;\r\n        btn.getComponent(Sprite).spriteFrame = this.arrayOfDices[randomDice-1];\r\n        return randomDice;\r\n    }\r\n    moveNode(playerNode : Node,chances : number,checkPlayer : string)\r\n    {\r\n        let x : number = null;\r\n        let y : number = null;\r\n        let ret = chances * 0.5;\r\n        if(checkPlayer == '1')\r\n        {\r\n            x = this.playerOneTileX;\r\n            y = this.playerOneTileY;\r\n        }\r\n        else\r\n        {\r\n            x = this.playerTwoTileX;\r\n            y = this.playerTwoTileY;\r\n        }\r\n        let id = setInterval(() => {\r\n            if(y%2==0)\r\n            {\r\n                x--;\r\n                if(x<0)\r\n                {\r\n                    x=0;\r\n                    y--;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                x++;\r\n                if(x>9)\r\n                {\r\n                    x=9;\r\n                    y--;\r\n                }\r\n            }\r\n            let nextPos = this.tileLayer.getTiledTileAt(x,y).node.position;\r\n            tween(playerNode)\r\n                .to(0.5,{position : new Vec3(nextPos.x+8,nextPos.y+15,1)},{easing : 'sineIn'})\r\n                .start();\r\n            if(checkPlayer == '1')\r\n            {\r\n                this.playerOneTileX = x;\r\n                this.playerOneTileY = y;\r\n            }\r\n            else\r\n            {\r\n                this.playerTwoTileX = x;\r\n                this.playerTwoTileY = y;\r\n            }\r\n        },500);\r\n\r\n        this.scheduleOnce(() => {\r\n            clearInterval(id);\r\n        },ret+0.1);\r\n        return ret+0.5;\r\n    }\r\n    movePlayer(event,btnNumber)\r\n    {\r\n        let node : Node = null;\r\n        let x,y;\r\n        let waitTime = 0;\r\n        let child : string = null;\r\n        let initialX : number = null;\r\n        if(btnNumber == '1')\r\n        {\r\n            node = this.playerOne;\r\n            x = this.playerOneTileX;\r\n            y = this.playerOneTileY;\r\n            child = 'playerOneWon';\r\n            initialX = this.playerOneTileX;\r\n        }\r\n        else\r\n        {\r\n            node = this.playerTwo;\r\n            x = this.playerTwoTileX;\r\n            y = this.playerTwoTileY;\r\n            child = 'playerTwoWon';\r\n            initialX = this.playerTwoTileX;\r\n        }\r\n        this.scheduleOnce(() => {\r\n            this.button1.active = false;\r\n            this.button2.active = false;\r\n        },0.2);\r\n\r\n        let diceNum : number = this.rollDice(event,btnNumber);\r\n        console.log('diceNum ' + diceNum);\r\n\r\n        this.arrayOfChances.push([x,y]);\r\n        if(x == 0 && y == 9)\r\n        {\r\n            if(diceNum!=6 && diceNum!=1)\r\n                diceNum = 0;\r\n        }\r\n        if(y % 2 == 1)\r\n        {\r\n            x += diceNum;\r\n            if(x > 9)\r\n            {\r\n                y -= 1;\r\n                x = 10 - (x-9);\r\n            }\r\n            if(y<0)\r\n            {\r\n                y = 0;\r\n                x = initialX;\r\n                diceNum = 0;\r\n            }\r\n            this.sumOfChances += diceNum;\r\n            waitTime = this.moveNode(node,diceNum,btnNumber);\r\n        }\r\n        else\r\n        {\r\n            x -= diceNum;\r\n            if(x < 0)\r\n            {\r\n                y-= 1;\r\n                x = 0 - (x)-1;\r\n            }\r\n            if(y<0)\r\n            {\r\n                y = 0;\r\n                x = initialX;\r\n                diceNum = 0;\r\n            }\r\n            this.sumOfChances += diceNum;\r\n            waitTime = this.moveNode(node,diceNum,btnNumber);\r\n        }\r\n        if(waitTime == 0)\r\n        {\r\n            if(btnNumber == '1')\r\n            {\r\n                x = this.playerOneTileX;\r\n                y = this.playerOneTileY;\r\n            }\r\n            else\r\n            {\r\n                x = this.playerTwoTileX;\r\n                y = this.playerTwoTileY;\r\n            }\r\n        }\r\n        console.log('wait time ' + waitTime);\r\n        this.scheduleOnce(() => {\r\n            for(let i = 0;i<this.arrayOfSnakesHead.length;i++)\r\n            {\r\n                if(this.arrayOfSnakesHead[i][0] == x && this.arrayOfSnakesHead[i][1] == y)\r\n                {\r\n                    let nextPos = this.tileLayer.getTiledTileAt(this.arrayOfSnakesTail[i][0],this.arrayOfSnakesTail[i][1]).node.position;\r\n                    tween(node)\r\n                        .to(1,{position : new Vec3(nextPos.x+8,nextPos.y+15,1)},{easing : 'sineIn'})\r\n                        .start();\r\n                    if(btnNumber == '1')\r\n                    {\r\n                        this.playerOneTileX = this.arrayOfSnakesTail[i][0];\r\n                        this.playerOneTileY = this.arrayOfSnakesTail[i][1];\r\n                    }\r\n                    else\r\n                    {\r\n                        this.playerTwoTileX = this.arrayOfSnakesTail[i][0];\r\n                        this.playerTwoTileY = this.arrayOfSnakesTail[i][1];\r\n                    }\r\n                }\r\n            }\r\n        },waitTime+0.2);\r\n\r\n        this.scheduleOnce(() => {\r\n            for(let i = 0;i<this.arrayOfLaddersTail.length;i++)\r\n            {\r\n                if(this.arrayOfLaddersTail[i][0] == x && this.arrayOfLaddersTail[i][1] == y)\r\n                {\r\n                    let nextPos = this.tileLayer.getTiledTileAt(this.arrayOfLaddersHead[i][0],this.arrayOfLaddersHead[i][1]).node.position;\r\n                    tween(node)\r\n                    .to(1,{position : new Vec3(nextPos.x+8,nextPos.y+15,1)},{easing : 'sineIn'})\r\n                    .start();\r\n                    if(btnNumber == '1')\r\n                    {\r\n                        this.playerOneTileX = this.arrayOfLaddersHead[i][0];\r\n                        this.playerOneTileY = this.arrayOfLaddersHead[i][1];\r\n                    }\r\n                    else\r\n                    {\r\n                        this.playerTwoTileX = this.arrayOfLaddersHead[i][0];\r\n                        this.playerTwoTileY = this.arrayOfLaddersHead[i][1];\r\n                    }\r\n                }\r\n            }\r\n        },waitTime+0.2);\r\n\r\n        if(x == 0 && y == 0)\r\n        {\r\n            console.log(child);\r\n            this.node.getChildByName(child).active = true;\r\n            this.scheduleOnce(() => {\r\n                this.button1.active = false;\r\n                this.button2.active = false;\r\n                console.log('Game finished');\r\n                director.pause();\r\n            },waitTime+1.3);\r\n        }\r\n        if(btnNumber == '1')\r\n        {\r\n            this.scheduleOnce(() => {\r\n                if(this.sumOfChances%6 == 0 && this.sumOfChances!=0 && this.sumOfChances != 18 && diceNum!=0)\r\n                {\r\n                    this.button1.active = true;\r\n                }\r\n                else if(this.sumOfChances == 18)\r\n                {\r\n                    this.sumOfChances = 0;\r\n                    let nextPos = this.tileLayer.getTiledTileAt(this.arrayOfChances[0][0],this.arrayOfChances[0][1]).node.position;\r\n                    tween(this.playerOne)\r\n                        .delay(waitTime+2.4)\r\n                        .to(1,{position : new Vec3(nextPos.x+8,nextPos.y+15,1)},{easing : 'sineIn'})\r\n                        .start();\r\n                    this.playerOneTileX = this.arrayOfChances[0][0];\r\n                    this.playerOneTileY = this.arrayOfChances[0][1];\r\n                    this.arrayOfChances = [];\r\n                    this.button2.active = true;\r\n                }\r\n                else\r\n                {\r\n                    this.arrayOfChances = [];\r\n                    this.sumOfChances = 0;\r\n                    this.button2.active = true;\r\n                }\r\n            },0.21);\r\n        }\r\n        else\r\n        {\r\n            this.scheduleOnce(() => {\r\n                if(this.sumOfChances%6 == 0 && this.sumOfChances!=0 && this.sumOfChances!=18 && diceNum!=0)\r\n                {\r\n                    this.button2.active = true;\r\n                }\r\n                else if(this.sumOfChances == 18)\r\n                {\r\n                    this.sumOfChances = 0;\r\n                    let nextPos = this.tileLayer.getTiledTileAt(this.arrayOfChances[0][0],this.arrayOfChances[0][1]).node.position;\r\n                    tween(this.playerTwo)\r\n                        .delay(waitTime+2.4)\r\n                        .to(1,{position : new Vec3(nextPos.x+8,nextPos.y+15,1)},{easing : 'sineIn'})\r\n                        .start();\r\n                    this.playerTwoTileX = this.arrayOfChances[0][0];\r\n                    this.playerTwoTileY = this.arrayOfChances[0][1];\r\n                    this.arrayOfChances = [];\r\n                    this.button1.active = true;\r\n                }\r\n                else\r\n                {\r\n                    this.arrayOfChances = [];\r\n                    this.sumOfChances = 0;\r\n                    this.button1.active = true;\r\n                }\r\n            },0.21);\r\n        }\r\n    }\r\n}"]}